/**
 * ğŸ“ Ø§Ù„Ù…Ù„Ù: Ù…Ø³Ø§Ø± API Ù„Ø¬Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
 * ğŸ“ Ø§Ù„Ù…Ø³Ø§Ø±: Frontend-local/app/api/products/route.ts
 * 
 * âœ… Ø§Ù„ÙˆØ¸ÙŠÙØ©:
 * - Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
 * - Ø¯Ø¹Ù… Ø§Ù„ÙÙ„ØªØ±Ø© Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø© (category)
 * - Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ ÙÙŠ ØµÙØ­Ø© Ø¹Ø±Ø¶ Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª ÙˆØ§Ù„Ø¢Ù„Ø§Øª Ø§Ù„Ù…ÙƒØªØ¨ÙŠØ© ÙˆØ§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø·Ø¨ÙŠØ©
 */

import { NextRequest, NextResponse } from 'next/server';
// import { db } from '../../../lib/db'; // Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§ØªØµØ§Ù„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ù†Ø³Ø¨ÙŠ

// Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ù„Ù„Ø³ÙŠØ±ÙØ±Ø§Øª
const mockProducts = [
  // Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª
  {
    id: 1,
    name: 'Ø³ÙŠØ±ÙØ± Ø¯ÙŠÙ„ PowerEdge R740',
    description: 'Ø³ÙŠØ±ÙØ± Ø§Ø­ØªØ±Ø§ÙÙŠ Ù„Ù…Ø±Ø§ÙƒØ² Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù…ÙˆØ§ØµÙØ§Øª Ø¹Ø§Ù„ÙŠØ©ØŒ ÙŠØ¯Ø¹Ù… Ù…Ø¹Ø§Ù„Ø¬Ø§Øª Ø¥Ù†ØªÙ„ Ø²ÙŠÙˆÙ† ÙˆÙŠØªÙ…ÙŠØ² Ø¨Ø£Ø¯Ø§Ø¡ Ù…Ù…ØªØ§Ø² Ù„Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©',
    price: 12500,
    condition: 'excellent',
    images: ['/serverPics/server1.jpg', '/serverPics/server1-b.jpg'],
    created_at: '2025-01-15T10:30:00Z',
    category: 'Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª'
  },
  {
    id: 2,
    name: 'Ø³ÙŠØ±ÙØ± HP ProLiant DL380 Gen10',
    description: 'Ø³ÙŠØ±ÙØ± Ù…ØªÙˆØ§Ø²Ù† Ù„Ù„Ø´Ø±ÙƒØ§Øª Ø§Ù„Ù…ØªÙˆØ³Ø·Ø© ÙˆØ§Ù„ÙƒØ¨ÙŠØ±Ø©ØŒ ÙŠØ¯Ø¹Ù… ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© ÙˆÙŠÙˆÙØ± Ø£Ø¯Ø§Ø¡ ÙˆÙ…ÙˆØ«ÙˆÙ‚ÙŠØ© Ù…Ù…ØªØ§Ø²Ø©',
    price: 15800,
    condition: 'new',
    images: ['/serverPics/server2.jpg', '/serverPics/server2-b.jpg'],
    created_at: '2025-02-20T14:45:00Z',
    category: 'Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª'
  },
  {
    id: 3,
    name: 'Ø³ÙŠØ±ÙØ± IBM System x3650 M5',
    description: 'Ø³ÙŠØ±ÙØ± Ù‚ÙˆÙŠ Ù…Ø¹ Ø¥Ù…ÙƒØ§Ù†ÙŠØ© ØªÙˆØ³ÙŠØ¹ ÙƒØ¨ÙŠØ±Ø©ØŒ Ù…Ø«Ø§Ù„ÙŠ Ù„Ù„Ø´Ø±ÙƒØ§Øª Ø§Ù„ØªÙŠ ØªØªØ·Ù„Ø¨ Ø£Ø¯Ø§Ø¡ Ø¹Ø§Ù„ÙŠ ÙˆØªÙˆÙØ± Ù…Ø³ØªÙ…Ø± Ù„Ø£Ù†Ø¸Ù…ØªÙ‡Ø§',
    price: 9200,
    condition: 'good',
    images: ['/serverPics/server3.jpg'],
    created_at: '2025-03-05T09:15:00Z',
    category: 'Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª'
  },
  {
    id: 4,
    name: 'Ø³ÙŠØ±ÙØ± Ù„ÙŠÙ†ÙˆÙÙˆ ThinkSystem SR650',
    description: 'Ø³ÙŠØ±ÙØ± Ø¹Ø§Ù„ÙŠ Ø§Ù„Ø£Ø¯Ø§Ø¡ Ù…Ø¹ ØªØµÙ…ÙŠÙ… Ù…Ø±Ù† ÙŠØ¯Ø¹Ù… Ù…Ø®ØªÙ„Ù Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ù† Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ù„Ù‰ Ø§Ù„Ø­ÙˆØ³Ø¨Ø© Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠØ©',
    price: 14300,
    condition: 'excellent',
    images: ['/serverPics/server4.jpg', '/serverPics/server4-b.jpg'],
    created_at: '2025-03-18T11:20:00Z',
    category: 'Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª'
  },
  
  // Ø§Ù„Ø¢Ù„Ø§Øª Ø§Ù„Ù…ÙƒØªØ¨ÙŠØ©
  {
    id: 101,
    name: 'Ø¢Ù„Ø© ØªØµÙˆÙŠØ± Canon ImageRunner 2545',
    description: 'Ø¢Ù„Ø© ØªØµÙˆÙŠØ± ÙˆØ·Ø§Ø¨Ø¹Ø© Ù„ÙŠØ²Ø±ÙŠØ© Ù…ØªØ¹Ø¯Ø¯Ø© Ø§Ù„ÙˆØ¸Ø§Ø¦ÙØŒ Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ù…ÙƒØ§ØªØ¨ Ù…ØªÙˆØ³Ø·Ø© Ø§Ù„Ø­Ø¬Ù… Ù…Ø¹ Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© ÙˆØ§Ù„Ù…Ø³Ø­ Ø§Ù„Ø¶ÙˆØ¦ÙŠ ÙˆØ§Ù„Ù†Ø³Ø®',
    price: 7500,
    condition: 'good',
    images: ['/officePics/copier1.jpg', '/officePics/copier1-b.jpg'],
    created_at: '2025-02-10T14:30:00Z',
    category: 'Ø§Ù„Ø¢Ù„Ø§Øª Ø§Ù„Ù…ÙƒØªØ¨ÙŠØ©'
  },
  {
    id: 102,
    name: 'Ø·Ø§Ø¨Ø¹Ø© HP LaserJet M507x',
    description: 'Ø·Ø§Ø¨Ø¹Ø© Ù„ÙŠØ²Ø±ÙŠØ© Ø£Ø­Ø§Ø¯ÙŠØ© Ø§Ù„Ù„ÙˆÙ† Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø³Ø±Ø¹Ø© Ù„Ù„Ù…ÙƒØ§ØªØ¨ØŒ Ø¨Ø³Ø±Ø¹Ø© Ø·Ø¨Ø§Ø¹Ø© 45 ØµÙØ­Ø© ÙÙŠ Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø©ØŒ Ù…Ø¹ Ù…ÙŠØ²Ø§Øª Ø£Ù…Ø§Ù† Ù…ØªÙ‚Ø¯Ù…Ø©',
    price: 3200,
    condition: 'excellent',
    images: ['/officePics/printer1.jpg'],
    created_at: '2025-01-25T09:45:00Z',
    category: 'Ø§Ù„Ø¢Ù„Ø§Øª Ø§Ù„Ù…ÙƒØªØ¨ÙŠØ©'
  },
  {
    id: 103,
    name: 'Ù…Ø§Ø³Ø­ Ø¶ÙˆØ¦ÙŠ Fujitsu ScanSnap iX1600',
    description: 'Ù…Ø§Ø³Ø­ Ø¶ÙˆØ¦ÙŠ Ø§Ø­ØªØ±Ø§ÙÙŠ Ø³Ø±ÙŠØ¹ Ø¨Ø³Ø±Ø¹Ø© 40 ØµÙØ­Ø© ÙÙŠ Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø©ØŒ Ù…Ø¹ ÙˆØ­Ø¯Ø© ØªØºØ°ÙŠØ© ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ù„Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø¨Ø³Ø¹Ø© 50 ÙˆØ±Ù‚Ø©',
    price: 1800,
    condition: 'new',
    images: ['/officePics/scanner1.jpg', '/officePics/scanner1-b.jpg'],
    created_at: '2025-03-12T11:15:00Z',
    category: 'Ø§Ù„Ø¢Ù„Ø§Øª Ø§Ù„Ù…ÙƒØªØ¨ÙŠØ©'
  },
  {
    id: 104,
    name: 'Ø¢Ù„Ø© ØªØºÙ„ÙŠÙ GBC Fusion 7000L',
    description: 'Ø¢Ù„Ø© ØªØºÙ„ÙŠÙ Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ù…ÙƒØ§ØªØ¨ ÙˆØ§Ù„Ù…Ø±Ø§ÙƒØ² Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©ØŒ ØªØ¯Ø¹Ù… Ø§Ù„ØªØºÙ„ÙŠÙ Ø§Ù„Ø­Ø±Ø§Ø±ÙŠ ÙˆØ§Ù„Ø¨Ø§Ø±Ø¯ Ø¨Ø¹Ø±Ø¶ A3',
    price: 950,
    condition: 'good',
    images: ['/officePics/laminator1.jpg'],
    created_at: '2025-02-28T13:20:00Z',
    category: 'Ø§Ù„Ø¢Ù„Ø§Øª Ø§Ù„Ù…ÙƒØªØ¨ÙŠØ©'
  },
  
  // Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø·Ø¨ÙŠØ©
  {
    id: 201,
    name: 'Ø¬Ù‡Ø§Ø² ØªØ®Ø·ÙŠØ· Ø§Ù„Ù‚Ù„Ø¨ Philips PageWriter TC70',
    description: 'Ø¬Ù‡Ø§Ø² ØªØ®Ø·ÙŠØ· Ù‚Ù„Ø¨ Ù…ØªØ·ÙˆØ± Ù…Ù† ÙÙŠÙ„ÙŠØ¨Ø³ØŒ ÙŠÙˆÙØ± ØªØ´Ø®ÙŠØµÙ‹Ø§ Ø¯Ù‚ÙŠÙ‚Ù‹Ø§ Ù…Ø¹ Ø´Ø§Ø´Ø© Ù„Ù…Ø³ Ø¹Ø§Ù„ÙŠØ© Ø§Ù„ÙˆØ¶ÙˆØ­ ÙˆØ¨Ø±Ù…Ø¬ÙŠØ§Øª ØªØ­Ù„ÙŠÙ„ Ù…ØªÙ‚Ø¯Ù…Ø©',
    price: 21000,
    condition: 'excellent',
    images: ['/medicalPics/ecg1.jpg', '/medicalPics/ecg1-b.jpg'],
    created_at: '2025-01-18T10:25:00Z',
    category: 'Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø·Ø¨ÙŠØ©'
  },
  {
    id: 202,
    name: 'Ø¬Ù‡Ø§Ø² Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ù…Ø±ÙŠØ¶ GE Carescape B450',
    description: 'Ø¬Ù‡Ø§Ø² Ù…Ø±Ø§Ù‚Ø¨Ø© Ø­ÙŠÙˆÙŠØ© Ù…ØªÙ†Ù‚Ù„ ÙŠÙ‚ÙŠØ³ Ø§Ù„Ø¶ØºØ· ÙˆÙ…Ø¹Ø¯Ù„ Ø¶Ø±Ø¨Ø§Øª Ø§Ù„Ù‚Ù„Ø¨ ÙˆØ§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ† ÙˆØ¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø©ØŒ Ù…Ø¹ Ø´Ø§Ø´Ø© Ù…Ù„ÙˆÙ†Ø© 10 Ø¨ÙˆØµØ©',
    price: 18500,
    condition: 'good',
    images: ['/medicalPics/monitor1.jpg'],
    created_at: '2025-02-05T15:40:00Z',
    category: 'Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø·Ø¨ÙŠØ©'
  },
  {
    id: 203,
    name: 'Ø¬Ù‡Ø§Ø² ØªÙ†ÙØ³ ØµÙ†Ø§Ø¹ÙŠ DrÃ¤ger Evita V500',
    description: 'Ø¬Ù‡Ø§Ø² ØªÙ†ÙØ³ ØµÙ†Ø§Ø¹ÙŠ Ù…ØªØ·ÙˆØ± Ù„Ù„Ø¹Ù†Ø§ÙŠØ© Ø§Ù„Ù…Ø±ÙƒØ²Ø©ØŒ ÙŠÙˆÙØ± Ù…Ø¬Ù…ÙˆØ¹Ø© ÙˆØ§Ø³Ø¹Ø© Ù…Ù† Ø£Ù†Ù…Ø§Ø· Ø§Ù„ØªÙ‡ÙˆÙŠØ© ÙˆØ§Ù„ØªØ´Ø®ÙŠØµ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…',
    price: 45000,
    condition: 'excellent',
    images: ['/medicalPics/ventilator1.jpg', '/medicalPics/ventilator1-b.jpg'],
    created_at: '2025-03-01T09:30:00Z',
    category: 'Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø·Ø¨ÙŠØ©'
  },
  {
    id: 204,
    name: 'ÙƒØ±Ø³ÙŠ Ø£Ø³Ù†Ø§Ù† Sirona Intego',
    description: 'ÙˆØ­Ø¯Ø© Ø£Ø³Ù†Ø§Ù† Ù…ØªÙƒØ§Ù…Ù„Ø© ØªØ´Ù…Ù„ ÙƒØ±Ø³ÙŠ Ù…Ø±ÙŠØ­ ÙˆØ£Ù†Ø¸Ù…Ø© Ù…ÙŠØ§Ù‡ ÙˆÙ‡ÙˆØ§Ø¡ ÙˆØ´ÙØ·ØŒ Ù…Ø¹ Ø­Ø§Ù…Ù„ Ø£Ø¯ÙˆØ§Øª Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªØ¹Ø¯ÙŠÙ„ ÙˆØ¥Ø¶Ø§Ø¡Ø© LED',
    price: 29500,
    condition: 'good',
    images: ['/medicalPics/dental1.jpg'],
    created_at: '2025-02-15T12:10:00Z',
    category: 'Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø·Ø¨ÙŠØ©'
  }
];

export async function GET(request: NextRequest) {
  try {
    // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ø¹Ù„Ù…Ø§Øª Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…
    const { searchParams } = new URL(request.url);
    const category = searchParams.get('category');
    
    // ÙÙ„ØªØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø©
    let filteredProducts = mockProducts;
    if (category) {
      filteredProducts = mockProducts.filter(product => product.category === category);
    }
    
    // ØªØ£Ø®ÙŠØ± Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù„Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø®Ø§Ø¯Ù… (1 Ø«Ø§Ù†ÙŠØ©)
    await new Promise(resolve => setTimeout(resolve, 1000));
    
    // Ø¥Ø±Ø¬Ø§Ø¹ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
    return NextResponse.json({
      message: 'ØªÙ… Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¨Ù†Ø¬Ø§Ø­',
      products: filteredProducts
    });
    
  } catch (error) {
    console.error('Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:', error);
    return NextResponse.json(
      { message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª' },
      { status: 500 }
    );
  }
} 